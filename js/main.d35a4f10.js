(()=>{"use strict";var e={491:(e,t,n)=>{n.d(t,{Z:()=>h});var r=n(645),i=n.n(r),o=n(667),a=n.n(o),s=n(825),u=n(765),p=i()((function(e){return e[1]})),l=a()(s.Z),c=a()(u.Z);p.push([e.id,"body {\n  margin: 0;\n}\n\n.cm-red_wavy_line {\n  background: url(https://try.kotlinlang.org/static/images/wavyline-red.gif)\n    repeat-x 100% 100%;\n  padding-bottom: 2px;\n}\n\n.gutter {\n  background-color: #434649;\n\n  background-repeat: no-repeat;\n  background-position: 50%;\n}\n\n.gutter.gutter-horizontal {\n  background-image: url("+l+");\n  cursor: col-resize;\n}\n\n.gutter.gutter-vertical {\n  background-image: url("+c+");\n  cursor: row-resize;\n}\n.CodeMirror {\n  height: 100%;\n}\n\nhtml,\nbody {\n  height: 100%;\n}\n\n.CodeMirror .ast_highlighted {\n  background-color: rgba(255, 251, 0, 0.164);\n}\n\ntextarea:focus,\ninput:focus {\n  outline: none;\n}\n\n#output {\n  width: 100%;\n  background: #000;\n  color: greenyellow;\n  font-size: 2em;\n  border: 0px #000;\n  overflow: scroll;\n  resize: none;\n  flex: 1 0 auto;\n\n  -ms-overflow-style: none; /* IE and Edge */\n  scrollbar-width: none; /* Firefox */\n}\n\n#output::-webkit-scrollbar {\n  display: none;\n}\n",""]);const h=p},765:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"98604ef1a5065a065f3530d37af8364b.png"},825:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"5e6d1df402c3bc10ecc62407004bb95e.png"},882:(e,t,n)=>{var r,i=function(){function e(e,t){this.start=e,this.length=t}return Object.defineProperty(e.prototype,"end",{get:function(){return this.start+this.length},enumerable:!1,configurable:!0}),e.fromStartLength=function(t,n){return new e(t,n)},e.fromStartEnd=function(t,n){return new e(t,n-t)},e}();!function(e){e[e.WhiteSpace=0]="WhiteSpace",e[e.Comment=1]="Comment",e[e.Number=2]="Number",e[e.String=3]="String",e[e.Plus=4]="Plus",e[e.Minus=5]="Minus",e[e.Star=6]="Star",e[e.Slash=7]="Slash",e[e.Bang=8]="Bang",e[e.BangEqal=9]="BangEqal",e[e.False=10]="False",e[e.True=11]="True",e[e.Equal=12]="Equal",e[e.EqualEqual=13]="EqualEqual",e[e.AndAnd=14]="AndAnd",e[e.PipePipe=15]="PipePipe",e[e.OpenParenthesis=16]="OpenParenthesis",e[e.CloseParenthesis=17]="CloseParenthesis",e[e.OpenBrace=18]="OpenBrace",e[e.CloseBrace=19]="CloseBrace",e[e.StringKeyword=20]="StringKeyword",e[e.NumberKeyword=21]="NumberKeyword",e[e.BooleanKeyword=22]="BooleanKeyword",e[e.Identifier=23]="Identifier",e[e.EndOfFile=24]="EndOfFile",e[e.BadChar=25]="BadChar",e[e.AsKeyword=26]="AsKeyword",e[e.VarKeyword=27]="VarKeyword",e[e.ValKeyword=28]="ValKeyword",e[e.Less=29]="Less",e[e.GreaterEqal=30]="GreaterEqal",e[e.LessEqal=31]="LessEqal",e[e.Greater=32]="Greater",e[e.IfKeyword=33]="IfKeyword",e[e.WhileKeyword=34]="WhileKeyword",e[e.ElseKeyword=35]="ElseKeyword",e[e.Comma=36]="Comma"}(r||(r={}));var o,a=function(){function e(e,t,n){this.type=t,this.name=r[this.type],this.position=e,this.text=n}return Object.defineProperty(e.prototype,"children",{get:function(){if(this.text)return[{name:this.text}]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textSpan",{get:function(){var e;return i.fromStartLength(this.position,(null===(e=this.text)||void 0===e?void 0:e.length)||0)},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return"["+r[this.type]+"]@"+this.position+" text:'"+this.text},e}(),s=function(){function e(){}return e.getUnaryOperatorPrecedence=function(e){switch(e){case r.Plus:case r.Minus:case r.Bang:return 6;default:return null}},e.getBinaryOperatorPrecedence=function(e){switch(e){case r.Star:case r.Slash:return 5;case r.Plus:case r.Minus:return 4;case r.BangEqal:case r.EqualEqual:case r.Less:case r.LessEqal:case r.Greater:case r.GreaterEqal:return 3;case r.AndAnd:return 2;case r.PipePipe:return 1;default:return null}},e.getTypeName=function(e){return r[e]},e.getTypesKeywords=function(){return[r.StringKeyword,r.NumberKeyword,r.BooleanKeyword]},e.getUnaryOpertors=function(){return[r.Plus,r.Minus,r.Bang]},e.getBinaryOpertors=function(){return[r.Star,r.Slash,r.Plus,r.Minus,r.BangEqal,r.EqualEqual,r.Less,r.LessEqal,r.Greater,r.GreaterEqal,r.AndAnd,r.PipePipe]},e.getAllOpertors=function(){return this.getBinaryOpertors().concat(this.getUnaryOpertors())},e}(),u=function(e,t){this.span=e,this.message=t,this.message=t,this.span=e},p=function(){function e(){this._reports=[]}return Object.defineProperty(e.prototype,"reports",{get:function(){return this._reports},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this._reports.length},enumerable:!1,configurable:!0}),e.prototype.addDiagnostics=function(e){var t;return(t=this._reports).push.apply(t,e._reports),this},e.prototype.report=function(e,t){var n=new u(e,t);this._reports.push(n)},e.prototype.reportBadCharacter=function(e){this.report(e.textSpan,"Bad character input: "+e.text+".")},e.prototype.reportUnexpectedToken=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i="Unexpected token <"+s.getTypeName(t)+">";n.length>0&&(i+=", expected "+n.map((function(e){return"<"+s.getTypeName(e)+">"})).join(" or ")),this.report(e,i+".")},e.prototype.reportMustHaveAnInitializerOrType=function(e,t){this.report(e,'"'+t+'" must have a type or an initializer.')},e.prototype.reportCannotConvert=function(e,t,n){this.report(e,"Cannot convert type '"+t.name+"' to '"+n.name+"'.")},e.prototype.reportUndefinedFunction=function(e){this.report(e.textSpan,"Function '"+e.text+"' doesn't exist.")},e.prototype.reportWrongArgumentsCount=function(e,t,n,r){this.report(e,"Function '"+t+"' requires "+n+" arguments but was given "+r+".")},e.prototype.reportWrongArgumentType=function(e,t,n,r){this.report(e,"Parameter '"+t+"' requires a value of type '"+n.name+"' but was given a value of type '"+r.name+"'.")},e.prototype.reportVariableAlreadyDeclared=function(e){this.report(e.textSpan,"Variable '"+e.text+"' is already declared.")},e.prototype.reportUndefinedName=function(e){this.report(e.textSpan,"Variable '"+e.text+"' doesn't exist.")},e.prototype.reportCannotAssignReadonly=function(e,t){this.report(e,"Variable '"+t+"' is read-only and cannot be assigned to.")},e.prototype.reportUndefinedUnaryOperator=function(e,t,n){this.report(e,"Unary operator '"+t+"' is not defined for type '"+n+"'.")},e.prototype.reportUndefinedBinaryOperator=function(e,t,n,r){this.report(e,"Binary operator '"+t+"' is not defined for types '"+n+"' and '"+r+"'.")},e.prototype.reportCannotCallName=function(e,t,n){this.report(e,"Symbol '"+t+"' of type '"+n.name+"' cannot be called.")},e}(),l=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),c=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r},h=function(){},f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return l(t,e),t}(h),d=function(e){function t(t){var n=e.call(this)||this;return n.token=t,n.textSpan=n.token.textSpan,n.name="ErrorExpression",n}return l(t,e),Object.defineProperty(t.prototype,"children",{get:function(){return[this.token]},enumerable:!1,configurable:!0}),t}(f),y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return l(t,e),t}(h),m=function(e){function t(t,n){var r=e.call(this)||this;return r.value=t,r.literalToken=n,r}return l(t,e),Object.defineProperty(t.prototype,"textSpan",{get:function(){return this.literalToken.textSpan},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return[this.literalToken]},enumerable:!1,configurable:!0}),t}(f),g=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.name="StringLiteralExpression",r}return l(t,e),t}(m),b=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.name="NumberLiteralExpression",r}return l(t,e),t}(m),v=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.name="BooleanLiteralExpression",r}return l(t,e),t}(m),x=function(e){function t(t,n,r){var i=e.call(this)||this;return i.left=t,i.oprator=n,i.right=r,i.name="BinaryExpression",i}return l(t,e),Object.defineProperty(t.prototype,"textSpan",{get:function(){return i.fromStartEnd(this.left.textSpan.start,this.right.textSpan.end)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return[this.left,this.oprator,this.right]},enumerable:!1,configurable:!0}),t}(f),w=function(e){function t(t,n){var r=e.call(this)||this;return r.operator=t,r.operand=n,r.name="UnaryExpression",r}return l(t,e),Object.defineProperty(t.prototype,"textSpan",{get:function(){return i.fromStartEnd(this.operator.textSpan.start,this.operand.textSpan.end)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return[this.operator,this.operand]},enumerable:!1,configurable:!0}),t}(f),S=function(e){function t(t,n,r){var i=e.call(this)||this;return i.openParenthesisToken=t,i.expression=n,i.closeParenthesisToken=r,i.name="ParenthesizedExpression",i}return l(t,e),Object.defineProperty(t.prototype,"textSpan",{get:function(){return i.fromStartEnd(this.openParenthesisToken.textSpan.start,this.openParenthesisToken.textSpan.end)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return[this.openParenthesisToken,this.expression,this.closeParenthesisToken]},enumerable:!1,configurable:!0}),t}(f),E=function(e){function t(t,n,r){var i=e.call(this)||this;return i.identifier=t,i.equalsToken=n,i.expression=r,i.name="AssignmentExpression",i}return l(t,e),Object.defineProperty(t.prototype,"textSpan",{get:function(){return i.fromStartEnd(this.identifier.textSpan.start,this.expression.textSpan.end)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return[this.identifier,this.equalsToken,this.expression]},enumerable:!1,configurable:!0}),t}(f),T=function(e){function t(t){var n=e.call(this)||this;return n.identifier=t,n.name="NameExpression",n}return l(t,e),Object.defineProperty(t.prototype,"textSpan",{get:function(){return this.identifier.textSpan},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return[this.identifier]},enumerable:!1,configurable:!0}),t}(f),k=function(e){function t(t,n,r,i){var o=e.call(this)||this;return o.typeToken=t,o.openParenthesis=n,o.expression=r,o.closeParenthesis=i,o.name="ConversionExpression",o}return l(t,e),Object.defineProperty(t.prototype,"textSpan",{get:function(){return i.fromStartEnd(this.typeToken.textSpan.start,this.closeParenthesis.textSpan.end)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return[this.typeToken,this.openParenthesis,this.expression,this.closeParenthesis]},enumerable:!1,configurable:!0}),t}(f),P=function(e){function t(t,n,r,i){var o=e.call(this)||this;return o.identifier=t,o.openParenthesis=n,o.parameters=r,o.closeParenthesis=i,o.name="CallExpression",o}return l(t,e),Object.defineProperty(t.prototype,"textSpan",{get:function(){return i.fromStartEnd(this.identifier.textSpan.start,this.closeParenthesis.textSpan.end)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return c([this.identifier,this.openParenthesis],this.parameters.separatorsAndNodes,[this.closeParenthesis])},enumerable:!1,configurable:!0}),t}(f),O=function(e){function t(t,n,r){var i=e.call(this)||this;return i.openBraceToken=t,i.statements=n,i.closeBraceToken=r,i.name="BlockStatement",i}return l(t,e),Object.defineProperty(t.prototype,"textSpan",{get:function(){return i.fromStartEnd(this.openBraceToken.textSpan.start,this.closeBraceToken.textSpan.end)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return c([this.openBraceToken],this.statements,[this.closeBraceToken])},enumerable:!1,configurable:!0}),t}(y),B=function(e){function t(t){var n=e.call(this)||this;return n.expression=t,n.name="ExpressionStatement",n}return l(t,e),Object.defineProperty(t.prototype,"textSpan",{get:function(){return this.expression.textSpan},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return[this.expression]},enumerable:!1,configurable:!0}),t}(y),C=function(e){function t(t,n,r,i){var o=e.call(this)||this;return o.keywordToken=t,o.identifier=n,o.asTypePart=r,o.initializerPart=i,o.name="VariableDeclarationStatement",o}return l(t,e),Object.defineProperty(t.prototype,"textSpan",{get:function(){var e,t,n=this.keywordToken.textSpan.start,r=(null===(e=this.initializerPart)||void 0===e?void 0:e.textSpan.end)||(null===(t=this.asTypePart)||void 0===t?void 0:t.textSpan.end)||this.identifier.textSpan.end;return i.fromStartEnd(n,r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){var e,t;return[this.keywordToken,this.identifier].concat((null===(e=this.asTypePart)||void 0===e?void 0:e.children)||[],(null===(t=this.initializerPart)||void 0===t?void 0:t.initializer)||[])},enumerable:!1,configurable:!0}),t}(y),N=function(e){function t(t,n){var r=e.call(this)||this;return r.equalsToken=t,r.initializer=n,r.name="VariableDeclarationInitalizerPart",r}return l(t,e),Object.defineProperty(t.prototype,"textSpan",{get:function(){return i.fromStartEnd(this.equalsToken.textSpan.start,this.initializer.textSpan.end)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return[this.equalsToken,this.initializer]},enumerable:!1,configurable:!0}),t}(h),j=function(e){function t(t,n){var r=e.call(this)||this;return r.asKeywordToken=t,r.typeToken=n,r.name="VariableDeclarationAsTypePart",r}return l(t,e),Object.defineProperty(t.prototype,"textSpan",{get:function(){return i.fromStartEnd(this.asKeywordToken.textSpan.start,this.typeToken.textSpan.end)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return[this.asKeywordToken,this.typeToken]},enumerable:!1,configurable:!0}),t}(h),A=function(e){function t(t,n,r,i){var o=e.call(this)||this;return o.ifKeyword=t,o.condition=n,o.thenStatement=r,o.elseClause=i,o.name="IfStatement",o}return l(t,e),Object.defineProperty(t.prototype,"textSpan",{get:function(){var e;return i.fromStartEnd(this.ifKeyword.textSpan.start,(null===(e=this.elseClause)||void 0===e?void 0:e.textSpan.end)||this.thenStatement.textSpan.end)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return[this.ifKeyword,this.condition,this.thenStatement].concat(this.elseClause?this.elseClause:[])},enumerable:!1,configurable:!0}),t}(y),q=function(e){function t(t,n){var r=e.call(this)||this;return r.elseKeyword=t,r.elseStatement=n,r.name="ElseClause",r}return l(t,e),Object.defineProperty(t.prototype,"textSpan",{get:function(){return i.fromStartEnd(this.elseKeyword.textSpan.start,this.elseStatement.textSpan.end)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return[this.elseKeyword,this.elseStatement]},enumerable:!1,configurable:!0}),t}(h),K=function(e){function t(t,n,r){var i=e.call(this)||this;return i.whileKeyword=t,i.condition=n,i.body=r,i.name="WhileStatement",i}return l(t,e),Object.defineProperty(t.prototype,"textSpan",{get:function(){return i.fromStartEnd(this.whileKeyword.textSpan.start,this.body.textSpan.end)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return[this.whileKeyword,this.condition,this.body]},enumerable:!1,configurable:!0}),t}(y),_=function(e){this.name=e},L=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),I=function(e){function t(t,n,r){var i=e.call(this,n)||this;return i.isReadOnly=t,i.name=n,i.type=r,i}return L(t,e),t}(_),V=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),U=function(e){function t(t){return e.call(this,t)||this}return V(t,e),t.Error=new t("?"),t.Number=new t("number"),t.String=new t("string"),t.Boolean=new t("boolean"),t.Void=new t("void"),t.Function=new t("func"),t}(_);function z(e){switch(e){case r.NumberKeyword:return U.Number;case r.StringKeyword:return U.String;case r.BooleanKeyword:return U.Boolean}throw new Error("Unkown token type "+r[e])}var M,D=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),W=function(){},G=function(){},F=function(e){function t(t){var n=e.call(this)||this;return n.value=t,n}return D(t,e),t}(W),Z=function(e){function t(t){var n=e.call(this,t)||this;return n.type=U.String,n}return D(t,e),t}(F),R=function(e){function t(t){var n=e.call(this,t)||this;return n.type=U.Number,n}return D(t,e),t}(F),H=function(e){function t(t){var n=e.call(this,t)||this;return n.type=U.Boolean,n}return D(t,e),t}(F),Y=function(e){function t(t,n,r){var i=e.call(this)||this;return i.left=t,i.operator=n,i.right=r,i}return D(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return this.operator.resultType},enumerable:!1,configurable:!0}),t}(W),J=function(e){function t(t,n){var r=e.call(this)||this;return r.oprator=t,r.operand=n,r}return D(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return this.oprator.resultType},enumerable:!1,configurable:!0}),t}(W),Q=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=U.Error,t}return D(t,e),t}(W),X=function(e){function t(t,n){var r=e.call(this)||this;return r.type=t,r.expression=n,r}return D(t,e),t}(W),$=function(e){function t(t,n){var r=e.call(this)||this;return r.func=t,r.parameters=n,r}return D(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return this.func.returnType},enumerable:!1,configurable:!0}),t}(W),ee=function(e){function t(t,n){var r=e.call(this)||this;return r.variable=t,r.expression=n,r}return D(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return this.expression.type},enumerable:!1,configurable:!0}),t}(W),te=function(e){function t(t){var n=e.call(this)||this;return n.variable=t,n}return D(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return this.variable.type},enumerable:!1,configurable:!0}),t}(W),ne=function(e){function t(t){var n=e.call(this)||this;return n.statements=t,n}return D(t,e),t}(G),re=function(e){function t(t){var n=e.call(this)||this;return n.expression=t,n}return D(t,e),t}(G),ie=function(e){function t(t,n){var r=e.call(this)||this;return r.variable=t,r.initializer=n,r}return D(t,e),t}(G),oe=function(e){function t(t,n,r){var i=e.call(this)||this;return i.condition=t,i.thenStatement=n,i.elseStatement=r,i}return D(t,e),t}(G),ae=function(e){function t(t,n){var r=e.call(this)||this;return r.condition=t,r.body=n,r}return D(t,e),t}(G);!function(e){e[e.Addition=0]="Addition",e[e.Subtraction=1]="Subtraction",e[e.Multiplication=2]="Multiplication",e[e.Division=3]="Division",e[e.LogicalAnd=4]="LogicalAnd",e[e.LogicalOr=5]="LogicalOr",e[e.Equals=6]="Equals",e[e.NotEquals=7]="NotEquals",e[e.LessThan=8]="LessThan",e[e.LessThanOrEqualsTo=9]="LessThanOrEqualsTo",e[e.GreaterThan=10]="GreaterThan",e[e.GreaterThanOrEqualsTo=11]="GreaterThanOrEqualsTo",e[e.Concatination=12]="Concatination"}(M||(M={}));var se,ue=function(){function e(e,t,n,r,i){this.operatorTokenType=e,this.kind=t,this.leftType=n,this.rightType=r,this.resultType=i}return e.tryBind=function(e,t,n){for(var r=0;r<this.operators.length;r++){var i=this.operators[r];if(i.operatorTokenType==e&&i.leftType==t&&i.rightType==n)return i}return null},e.operators=[new e(r.Plus,M.Addition,U.Number,U.Number,U.Number),new e(r.Minus,M.Subtraction,U.Number,U.Number,U.Number),new e(r.Star,M.Multiplication,U.Number,U.Number,U.Number),new e(r.Slash,M.Division,U.Number,U.Number,U.Number),new e(r.EqualEqual,M.Equals,U.Number,U.Number,U.Boolean),new e(r.BangEqal,M.NotEquals,U.Number,U.Number,U.Boolean),new e(r.Less,M.LessThan,U.Number,U.Number,U.Boolean),new e(r.LessEqal,M.LessThanOrEqualsTo,U.Number,U.Number,U.Boolean),new e(r.Greater,M.GreaterThan,U.Number,U.Number,U.Boolean),new e(r.GreaterEqal,M.GreaterThanOrEqualsTo,U.Number,U.Number,U.Boolean),new e(r.AndAnd,M.LogicalAnd,U.Boolean,U.Boolean,U.Boolean),new e(r.PipePipe,M.LogicalOr,U.Boolean,U.Boolean,U.Boolean),new e(r.EqualEqual,M.Equals,U.Boolean,U.Boolean,U.Boolean),new e(r.BangEqal,M.NotEquals,U.Boolean,U.Boolean,U.Boolean),new e(r.Plus,M.Concatination,U.String,U.String,U.String),new e(r.EqualEqual,M.Equals,U.String,U.String,U.Boolean)],e}();!function(e){e[e.Identity=0]="Identity",e[e.Negation=1]="Negation",e[e.LogicalNegation=2]="LogicalNegation"}(se||(se={}));var pe=function(){function e(e,t,n,r){this.operatorTokenType=e,this.kind=t,this.operandType=n,this.resultType=r}return e.tryBind=function(e,t){for(var n=0;n<this.operators.length;n++){var r=this.operators[n];if(r.operatorTokenType==e&&r.operandType==t)return r}return null},e.operators=[new e(r.Plus,se.Identity,U.Number,U.Number),new e(r.Minus,se.Negation,U.Number,U.Number),new e(r.Bang,se.LogicalNegation,U.Boolean,U.Boolean)],e}(),le=function(e,t,n,r){this.diagnostics=e,this.variables=t,this.statement=n,this.previous=r},ce=function(){function e(e){this.variables=new Map,this.parent=e}return e.prototype.tryDeclare=function(e){return!this.variables.has(e.name)&&(this.variables.set(e.name,e),!0)},e.prototype.tryLookup=function(e){return this.variables.has(e)?this.variables.get(e):null==this.parent?null:this.parent.tryLookup(e)},e.prototype.tryLookupAs=function(e,t){var n=this.tryLookup(e);return null==n||null!=t&&n.type!=t?null:n},e.prototype.getDeclaredVariables=function(){return Array.from(this.variables.values())},e}(),he=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),fe=function(e){function t(t,n,r){var i=e.call(this,!1,t,U.Function)||this;return i.name=t,i.parameters=n,i.returnType=r,i}return he(t,e),t}(I),de=function(e){function t(t,n){var r=e.call(this,!0,t,n)||this;return r.name=t,r.type=n,r}return he(t,e),t}(I),ye=function(){function e(){}return e.getAll=function(){return[this.print,this.println,this.input,this.rnd]},e.print=new fe("print",[new de("message",U.String)],U.Void),e.println=new fe("println",[new de("message",U.String)],U.Void),e.input=new fe("input",[],U.String),e.rnd=new fe("rnd",[new de("max",U.Number)],U.Number),e}(),me=function(){function e(e,t,n){this.exists=e,this.isIdentity=t,this.isImplicit=n}return e.classify=function(e,t){return e==t?this.identity:(e!=U.Boolean&&e!=U.Number||t!=U.String)&&(e!=U.String||t!=U.Boolean&&t!=U.Number)?this.none:this.explicit},e.none=new e(!1,!1,!1),e.identity=new e(!0,!0,!0),e.implicit=new e(!0,!1,!0),e.explicit=new e(!0,!1,!1),e}(),ge=function(){function e(e){this.diagnostics=new p,this.scope=new ce(e)}return e.bindGlobalScope=function(t,n){var r,i=new e(this.createParentScope(n)),o=i.bindStatement(t.statement),a=(null===(r=i.scope)||void 0===r?void 0:r.getDeclaredVariables())||[],s=new p;return(null==n?void 0:n.diagnostics)&&s.addDiagnostics(s),s.addDiagnostics(i.diagnostics),new le(s,a,o,n)},e.createParentScope=function(e){for(var t=[];null!=e;)t.push(e),e=e.previous;for(var n=this.createRootScopee();t.length>0;){e=t.pop();for(var r=new ce(n),i=0,o=(null==e?void 0:e.variables)||[];i<o.length;i++){var a=o[i];r.tryDeclare(a)}n=r}return n},e.createRootScopee=function(){var e=new ce;return ye.getAll().forEach((function(t){e.tryDeclare(t)})),e},e.prototype.bindStatement=function(e){if(e instanceof O)return this.bindBlockStatement(e);if(e instanceof C)return this.bindVariableDeclarationStatement(e);if(e instanceof B)return this.bindExpressionStatement(e);if(e instanceof A)return this.bindIfStatement(e);if(e instanceof K)return this.bindWhileStatement(e);throw new Error('Unexprected statement type "'+e.constructor.name+'"')},e.prototype.bindBlockStatement=function(e){var t=[];this.scope=new ce(this.scope);for(var n=0,r=e.statements;n<r.length;n++){var i=r[n],o=this.bindStatement(i);t.push(o)}return this.scope=this.scope.parent,new ne(t)},e.prototype.bindVariableDeclarationStatement=function(e){var t,n,i=e.identifier.text,o=e.keywordToken.type==r.ValKeyword,a=e.initializerPart?this.bindExpression(e.initializerPart.initializer):void 0;if(null!=e.asTypePart){var s=z(e.asTypePart.typeToken.type);null!=a&&a.type!=s&&this.diagnostics.reportCannotConvert(e.initializerPart.equalsToken.textSpan,a.type,s),n=s}else null!=a&&(n=a.type);var u=new I(o,i,n);return(null===(t=this.scope)||void 0===t?void 0:t.tryDeclare(u))||this.diagnostics.reportVariableAlreadyDeclared(e.identifier),new ie(u,a)},e.prototype.bindExpressionStatement=function(e){var t=this.bindExpression(e.expression);return new re(t)},e.prototype.bindIfStatement=function(e){var t=this.bindExpressionWithExpectedType(e.condition,U.Boolean),n=this.bindStatement(e.thenStatement),r=e.elseClause?this.bindStatement(e.elseClause.elseStatement):void 0;return new oe(t,n,r)},e.prototype.bindWhileStatement=function(e){var t=this.bindExpressionWithExpectedType(e.condition,U.Boolean),n=this.bindStatement(e.body);return new ae(t,n)},e.prototype.bindExpressionWithExpectedType=function(e,t){var n=this.bindExpression(e);return n.type!=t&&this.diagnostics.reportCannotConvert(e.textSpan,n.type,t),n},e.prototype.bindExpression=function(e){if(e instanceof S)return this.bindParenthesizedExpression(e);if(e instanceof m)return this.bindLiteralExpression(e);if(e instanceof T)return this.bindNameExpression(e);if(e instanceof E)return this.bindAssignmentExpression(e);if(e instanceof w)return this.bindUnaryExpression(e);if(e instanceof x)return this.bindBinaryExpression(e);if(e instanceof P)return this.bindCallExpression(e);if(e instanceof k)return this.bindConversionExpression(e);if(e instanceof d)return new Q;throw new Error("Unexpected expression type "+e.constructor.name)},e.prototype.bindConversionExpression=function(e){var t=this.bindExpression(e.expression),n=z(e.typeToken.type);return me.classify(t.type,n).exists?new X(n,t):(this.diagnostics.reportCannotConvert(e.textSpan,t.type,n),new Q)},e.prototype.bindCallExpression=function(e){var t,n,r;if(null==(r=null!==(n=null===(t=this.scope)||void 0===t?void 0:t.tryLookup(e.identifier.text))&&void 0!==n?n:null))return this.diagnostics.reportUndefinedName(e.identifier),new Q;if(r instanceof fe==0)return this.diagnostics.reportCannotCallName(e.textSpan,r.name,r.type),new Q;var i=r;if(e.parameters.length!=i.parameters.length)return this.diagnostics.reportWrongArgumentsCount(e.textSpan,e.identifier.text,i.parameters.length,e.parameters.length),new Q;for(var o=[],a=0;a<e.parameters.length;a++){var s=e.parameters.nodeAt(a),u=i.parameters[a],p=this.bindExpression(s);if(o.push(p),p.type!=u.type)return this.diagnostics.reportWrongArgumentType(s.textSpan,u.name,u.type,p.type),new Q}return new $(i,o)},e.prototype.bindParenthesizedExpression=function(e){return this.bindExpression(e.expression)},e.prototype.bindLiteralExpression=function(e){if(e instanceof g)return new Z(e.value);if(e instanceof b)return new R(e.value);if(e instanceof v)return new H(e.value);throw new Error("Unexpected literal expression type "+e.constructor.name)},e.prototype.bindNameExpression=function(e){var t,n,r,i=e.identifier.text;return null==(r=null!==(n=null===(t=this.scope)||void 0===t?void 0:t.tryLookup(i))&&void 0!==n?n:null)?(this.diagnostics.reportUndefinedName(e.identifier),new Q):new te(r)},e.prototype.bindAssignmentExpression=function(e){var t,n,r,i=e.identifier.text,o=this.bindExpression(e.expression);return null==(r=null!==(n=null===(t=this.scope)||void 0===t?void 0:t.tryLookup(i))&&void 0!==n?n:null)?(this.diagnostics.reportUndefinedName(e.identifier),new Q):(r.isReadOnly&&this.diagnostics.reportCannotAssignReadonly(e.textSpan,r.name),o.type!=r.type?(this.diagnostics.reportCannotConvert(e.textSpan,o.type,r.type),o):new ee(r,o))},e.prototype.bindUnaryExpression=function(e){var t=this.bindExpression(e.operand),n=pe.tryBind(e.operator.type,t.type);return t.type==U.Error?new Q:null==n?(this.diagnostics.reportUndefinedUnaryOperator(e.operator.textSpan,e.operator.text,t.type),new Q):new J(n,t)},e.prototype.bindBinaryExpression=function(e){var t=this.bindExpression(e.left),n=this.bindExpression(e.right),r=ue.tryBind(e.oprator.type,t.type,n.type);return t.type==U.Error||n.type==U.Error?new Q:null==r?(this.diagnostics.reportUndefinedBinaryOperator(e.oprator.textSpan,e.oprator.text,t.type,n.type),new Q):new Y(t,r,n)},e}(),be=function(){function e(e,t,n){this.root=e,this.variables=t,this.evalConsole=n}return e.prototype.evaluate=function(){return this.evaluateStatement(this.root),this.lastValue},e.prototype.evaluateStatement=function(e){if(e instanceof ne)this.evaluateBoundBlockStatement(e);else if(e instanceof ie)this.evaluateBoundVariableDeclarationStatement(e);else if(e instanceof re)this.evaluateExpressionStatement(e);else if(e instanceof oe)this.evaluateBoundIfStatement(e);else{if(!(e instanceof ae))throw new Error("Unexpexted statemnt "+e.constructor.name);this.evaluateBoundWhileStatement(e)}},e.prototype.evaluateBoundWhileStatement=function(e){for(;this.evaluateExpression(e.condition);)this.evaluateStatement(e.body)},e.prototype.evaluateBoundIfStatement=function(e){this.evaluateExpression(e.condition)?this.evaluateStatement(e.thenStatement):null!=e.elseStatement&&this.evaluateStatement(e.elseStatement)},e.prototype.evaluateBoundBlockStatement=function(e){for(var t=0,n=e.statements;t<n.length;t++){var r=n[t];this.evaluateStatement(r)}},e.prototype.evaluateBoundVariableDeclarationStatement=function(e){var t=e.initializer?this.evaluateExpression(e.initializer):void 0;this.variables.set(e.variable,t),this.lastValue=t},e.prototype.evaluateExpressionStatement=function(e){this.lastValue=this.evaluateExpression(e.expression)},e.prototype.evaluateExpression=function(e){if(e instanceof F)return this.evaluateBoundLiteralExpression(e);if(e instanceof te)return this.evaluateBoundVariableExpression(e);if(e instanceof ee)return this.evaluateBoundAssignmentExpression(e);if(e instanceof J)return this.evaluateBoundUnaryExpression(e);if(e instanceof Y)return this.evaluateBoundBinaryExpression(e);if(e instanceof $)return this.evaluateCallExpression(e);if(e instanceof X)return this.evaluateConversionExpression(e);throw new Error("Unexpexted expression "+e.constructor.name)},e.prototype.evaluateConversionExpression=function(e){var t=this.evaluateExpression(e.expression);if(e.type==U.Boolean)return Boolean(t);if(e.type==U.String)return String(t);if(e.type==U.Number)return Number(t);throw new Error("Unexpected type '"+e.type.name+"'")},e.prototype.evaluateCallExpression=function(e){if(e.func==ye.print){var t=this.evaluateExpression(e.parameters[0]);this.evalConsole.print(t)}else if(e.func==ye.println)t=this.evaluateExpression(e.parameters[0]),this.evalConsole.print(t+"\n");else if(e.func==ye.rnd){var n=this.evaluateExpression(e.parameters[0]);return Math.random()*n}},e.prototype.evaluateBoundLiteralExpression=function(e){return e.value},e.prototype.evaluateBoundVariableExpression=function(e){return this.variables.get(e.variable)},e.prototype.evaluateBoundAssignmentExpression=function(e){var t=this.evaluateExpression(e.expression);return this.variables.set(e.variable,t),t},e.prototype.evaluateBoundUnaryExpression=function(e){var t=this.evaluateExpression(e.operand);switch(e.oprator.kind){case se.Identity:return t;case se.Negation:return-t;case se.LogicalNegation:return!t;default:throw new Error("Unexpected unary operator "+se[e.oprator.kind])}},e.prototype.evaluateBoundBinaryExpression=function(e){var t=this.evaluateExpression(e.left),n=this.evaluateExpression(e.right);switch(e.operator.kind){case M.Addition:return t+n;case M.Subtraction:return t-n;case M.Multiplication:return t*n;case M.Division:return t/n;case M.LogicalAnd:return t&&n;case M.LogicalOr:return t||n;case M.Equals:return t==n;case M.Addition:return t!=n;case M.LessThan:return t<n;case M.GreaterThan:return t>n;case M.LessThanOrEqualsTo:return t<=n;case M.GreaterThanOrEqualsTo:return t>=n;case M.Concatination:return t+n;default:throw new Error("Unexpected unary operator "+M[e.operator.kind])}},e}(),ve=function(e,t){this.diagnostics=e,this.value=t},xe=function(){function e(e,t){this.syntaxTree=e,this.previous=t}return Object.defineProperty(e.prototype,"globalScope",{get:function(){var e;return null==this._globalScope&&(this._globalScope=ge.bindGlobalScope(this.syntaxTree.root,null===(e=this.previous)||void 0===e?void 0:e.globalScope)),this._globalScope},enumerable:!1,configurable:!0}),e.prototype.continueWith=function(t){return new e(t,this)},e.prototype.evaluate=function(e,t){var n=this.syntaxTree.diagnostics;if(n.addDiagnostics(this.globalScope.diagnostics),n.length)return new ve(n,null);var r=new be(this.globalScope.statement,t,e).evaluate();return new ve(new p,r)},e}(),we=function(e,t,n){this.pattern=e,this.tokenType=t,this.transformer=n},Se=[new we(/^\s+/,r.WhiteSpace),new we(/^\/\/.*/,r.Comment),new we(/^\/\*((.|\s)*?)\*\//,r.Comment),new we(/^[0-9]+(\.[0-9]+){0,1}\b/,r.Number),new we(/^var\b/,r.VarKeyword),new we(/^val\b/,r.ValKeyword),new we(/^as\b/,r.AsKeyword),new we(/^if\b/,r.IfKeyword),new we(/^else\b/,r.ElseKeyword),new we(/^while\b/,r.WhileKeyword),new we(/^string\b/,r.StringKeyword),new we(/^number\b/,r.NumberKeyword),new we(/^boolean\b/,r.BooleanKeyword),new we(/^true\b/,r.True),new we(/^false\b/,r.False),new we(/^,/,r.Comma),new we(/^\<\=/,r.LessEqal),new we(/^\>\=/,r.GreaterEqal),new we(/^\</,r.Less),new we(/^\>/,r.Greater),new we(/^\!\=/,r.BangEqal),new we(/^\!/,r.Bang),new we(/^\=\=/,r.EqualEqual),new we(/^\&\&/,r.AndAnd),new we(/^\|\|/,r.PipePipe),new we(/^\=/,r.Equal),new we(/^\+/,r.Plus),new we(/^\+/,r.Plus),new we(/^\-/,r.Minus),new we(/^\//,r.Slash),new we(/^\*/,r.Star),new we(/^\(/,r.OpenParenthesis),new we(/^\)/,r.CloseParenthesis),new we(/^\{/,r.OpenBrace),new we(/^\}/,r.CloseBrace),new we(/^((\"(\\.|[^\"])*\")|(\'(\\.|[^\'])*\'))/,r.String,(function(e){return e.replace(/\\n/g,"\n").replace(/\\\"/g,'"').replace(/\\\'/g,"'")})),new we(/^[a-zA-Z_][a-zA-Z_0-9]*/,r.Identifier)];const Ee=function(){function e(e){this.position=0,this.diagnostics=new p,this.codeString=e}return e.prototype.current=function(){return this.position>=this.codeString.length?"\0":this.codeString[this.position]},e.prototype.lex=function(){if("\0"==this.current())return new a(this.codeString.length,r.EndOfFile,"\0");for(var e=this.codeString.substring(this.position),t=0;t<Se.length;t++){var n=Se[t],i=n.pattern.exec(e);if(null!=i){var o=i[0],s=this.position;this.position+=o.length;var u=n.transformer?n.transformer(i[0]):i[0];return new a(s,n.tokenType,u)}}var p=this.current(),l=this.position,c=new a(l,r.BadChar,p);return this.diagnostics.reportBadCharacter(c),this.position++,c},e}();var Te=function(e){this.statement=e},ke=function(){function e(e){this.separatorsAndNodes=e}return Object.defineProperty(e.prototype,"length",{get:function(){return(this.separatorsAndNodes.length+1)/2},enumerable:!1,configurable:!0}),e.prototype.nodeAt=function(e){return this.separatorsAndNodes[2*e]},e.prototype.separatorAt=function(e){return this.separatorsAndNodes[2*e+1]},e}(),Pe=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r};const Oe=function(){function e(e){this.position=0,this.diagnostics=new p;var t,n=[],i=new Ee(e);do{t=i.lex(),0==[r.WhiteSpace,r.BadChar,r.Comment].includes(t.type)&&n.push(t)}while(t.type!=r.EndOfFile);this.tokens=n,this.diagnostics.addDiagnostics(i.diagnostics)}return e.prototype.peek=function(e){var t=this.position+e;return t>=this.tokens.length?this.tokens[this.tokens.length-1]:this.tokens[t]},Object.defineProperty(e.prototype,"current",{get:function(){return this.peek(0)},enumerable:!1,configurable:!0}),e.prototype.nextToken=function(){var e=this.current;return this.position++,e},e.prototype.matchToken=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return t.includes(this.current.type)?this.nextToken():((e=this.diagnostics).reportUnexpectedToken.apply(e,Pe([this.current.textSpan,this.current.type],t)),new a(this.current.position,t[0]))},e.prototype.parseCompilationUnit=function(){var e=this.parseStatement();return this.matchToken(r.EndOfFile),new Te(e)},e.prototype.parseStatement=function(){switch(this.current.type){case r.OpenBrace:return this.parseBlockStatement();case r.ValKeyword:case r.VarKeyword:return this.parseVariableDeclarationStatement();case r.IfKeyword:return this.parseIfStatement();case r.WhileKeyword:return this.parseWhileStatement();default:return this.parseExpressionStatement()}},e.prototype.parseBlockStatement=function(){for(var e=Array(),t=this.matchToken(r.OpenBrace);0==[r.EndOfFile,r.CloseBrace].includes(this.current.type);){var n=this.current,i=this.parseStatement();this.current!=n?e.push(i):this.nextToken()}var o=this.matchToken(r.CloseBrace);return new O(t,e,o)},e.prototype.parseVariableDeclarationStatement=function(){var e=this.matchToken(r.VarKeyword,r.ValKeyword),t=e.type==r.ValKeyword,n=this.matchToken(r.Identifier),i=void 0,o=void 0;if(this.current.type==r.AsKeyword){var a=this.matchToken(r.AsKeyword),u=this.matchToken.apply(this,s.getTypesKeywords());i=new j(a,u)}if(this.current.type==r.Equal){var p=this.matchToken(r.Equal),l=this.parseExpression();o=new N(p,l)}return t&&null==o&&this.diagnostics.reportMustHaveAnInitializerOrType(n.textSpan,n.text),null==o&&null==i&&this.diagnostics.reportMustHaveAnInitializerOrType(n.textSpan,n.text),new C(e,n,i,o)},e.prototype.parseIfStatement=function(){var e=this.matchToken(r.IfKeyword),t=this.parseExpression(),n=this.parseStatement(),i=this.current.type==r.ElseKeyword?this.parseElseClause():void 0;return new A(e,t,n,i)},e.prototype.parseElseClause=function(){var e=this.matchToken(r.ElseKeyword),t=this.parseStatement();return new q(e,t)},e.prototype.parseWhileStatement=function(){var e=this.matchToken(r.WhileKeyword),t=this.parseExpression(),n=this.parseStatement();return new K(e,t,n)},e.prototype.parseExpressionStatement=function(){var e=this.parseExpression();return new B(e)},e.prototype.parseExpression=function(){return this.parseAssignmentExpression()},e.prototype.parseAssignmentExpression=function(){if(this.peek(0).type==r.Identifier&&this.peek(1).type==r.Equal){var e=this.matchToken(r.Identifier),t=this.matchToken(r.Equal),n=this.parseAssignmentExpression();return new E(e,t,n)}return this.parseBinaryExpression()},e.prototype.parseBinaryExpression=function(e){var t;void 0===e&&(e=0);var n=s.getUnaryOperatorPrecedence(this.current.type);if(null!=n&&n>=e){var r=this.matchToken.apply(this,s.getUnaryOpertors()),i=this.parseBinaryExpression(n);t=new w(r,i)}else t=this.parsePrimaryExpression();for(;;){var o=s.getBinaryOperatorPrecedence(this.current.type);if(null==o||o<=e)break;var a=this.matchToken.apply(this,s.getBinaryOpertors()),u=this.parseBinaryExpression(o);t=new x(t,a,u)}return t},e.prototype.parsePrimaryExpression=function(){switch(this.current.type){case r.OpenParenthesis:return this.parseParenthesizedExpression();case r.True:case r.False:return this.parseBooleanLiterial();case r.Number:return this.parseNumberLiterial();case r.String:return this.parseStringLiterial();case r.Identifier:return this.parseCallOrNameExpression();default:return s.getTypesKeywords().includes(this.current.type)&&this.peek(1).type==r.OpenParenthesis?this.parseConversionExpression():this.parseErrorExpression()}},e.prototype.parseConversionExpression=function(){var e=this.matchToken.apply(this,s.getTypesKeywords()),t=this.matchToken(r.OpenParenthesis),n=this.parseExpression(),i=this.matchToken(r.CloseParenthesis);return new k(e,t,n,i)},e.prototype.parseErrorExpression=function(){var e=this.nextToken();return this.diagnostics.reportUnexpectedToken(e.textSpan,e.type),new d(e)},e.prototype.parseCallOrNameExpression=function(){return this.current.type==r.Identifier&&this.peek(1).type==r.OpenParenthesis?this.parseCallExpression():this.parseNameExpression()},e.prototype.parseNameExpression=function(){var e=this.matchToken(r.Identifier);return new T(e)},e.prototype.parseStringLiterial=function(){var e=this.matchToken(r.String),t=e.text.substring(1,e.text.length-1);return new g(t,e)},e.prototype.parseNumberLiterial=function(){var e=this.matchToken(r.Number),t=Number(e.text);return new b(t,e)},e.prototype.parseParenthesizedExpression=function(){var e=this.matchToken(r.OpenParenthesis),t=this.parseExpression(),n=this.matchToken(r.CloseParenthesis);return new S(e,t,n)},e.prototype.parseBooleanLiterial=function(){var e=this.matchToken(r.True,r.False);return new v(e.type==r.True,e)},e.prototype.parseCallExpression=function(){var e=this.matchToken(r.Identifier),t=this.matchToken(r.OpenParenthesis),n=this.parseParams(),i=this.matchToken(r.CloseParenthesis);return new P(e,t,n,i)},e.prototype.parseParams=function(){for(var e=[];this.current.type!=r.CloseParenthesis&&this.current.type!=r.EndOfFile;){var t=this.parseExpression();if(e.push(t),this.peek(0).type!=r.CloseParenthesis){var n=this.matchToken(r.Comma);e.push(n)}}return new ke(e)},e}(),Be=function(){function e(e,t){this.name="SyntaxTree",this.root=e,this.diagnostics=t}return Object.defineProperty(e.prototype,"textSpan",{get:function(){return this.root.statement.textSpan},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"children",{get:function(){return[this.root.statement]},enumerable:!1,configurable:!0}),e.parse=function(t){var n=new Oe(t);return new e(n.parseCompilationUnit(),n.diagnostics)},e}();var Ce=n(631),Ne=(n(380),n(45),n(805),n(379)),je=n.n(Ne),Ae=n(491);je()(Ae.Z,{insert:"head",singleton:!1}),Ae.Z.locals,n(568);var qe=n(572),Ke=n(755),_e=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r};Ke("#ast").on("hover_node.jstree",(function(e,t){Fe(t)})).on("dehover_node.jstree",(function(e,t){Fe(t,!0)})).jstree({core:{data:[]}}),(0,qe.Z)(["#top-panel","#bottom-panel"],{direction:"vertical",sizes:[75,25]}),(0,qe.Z)(["#vseditor","#ast_cont"],{direction:"horizontal",sizes:[75,25]});var Le=document.getElementById("run-btn"),Ie=[],Ve=new Map,Ue=new Map;Ce.defineMode("tah",(function(){return{name:"tah",startState:function(){return{isInComment:!1}},token:function(e,t){if(e.match(/^\/\*/))return t.isInComment=!0,"comment";if(e.match(/^\*\//))return t.isInComment=!1,"comment";if(t.isInComment)return e.next(),"comment";for(var n=0;n<Se.length;n++){var i=Se[n],o=i.tokenType,a=i.pattern,u=r[o];if(e.match(a))return s.getTypesKeywords().includes(o)?"type":s.getAllOpertors().includes(o)?"operator":u.toLocaleLowerCase().includes("keyword")?"keyword":o==r.Comment?"comment":o==r.Identifier?"variable":o==r.String?"string":o==r.Number?"number":u}return e.next(),"error red_wavy_line"}}}));var ze=Ce(document.getElementById("vseditor"),{value:'/**\n* You can edit and run this code. \n* Tah Lang by TarekkMA\n*/\n\n//This is a simple example illustrating how you can use tah-lang\n{\n  val a as string = "this is a const string"\n  var x as number = 1\n\n\n\tvar i = 0\n  while(i < 12){\n  \tvar iStr = string(i)\n    var mulStr = string(i * i)\n  \tprintln(iStr + " * " + iStr + " = " + mulStr)\n  \ti = i + 1\n  }\n  println("")\n  \n  while x < 50\n    x = x + 8.1\n  \n  println(string(x)) /*Result should be 57.7*/\n  \n  "hello" + " " + "Tarek"\n}\n',lineNumbers:!0,theme:"darcula",mode:"tah",tabSize:2,viewportMargin:1/0}),Me=document.getElementById("output");Me.onkeypress=function(e){console.log(e)},ze.on("change",(function(){0!=Ie.length&&(Ie.forEach((function(e){return e.clear()})),Ie.length=0)}));var De={print:function(e){console.log(e),Me.value+=e}};function We(e,t){return{from:Ge(e.start,t),to:Ge(e.end,t)}}function Ge(e,t){for(var n=0,r=0,i=0;i<e;i++)"\n"==t[i]?(n++,r=0):r++;return{line:n,ch:r}}function Fe(e,t){var n;void 0===t&&(t=!1);var r=(e=e.node).id,i=Ue.get(r);if(i&&(null===(n=Ve.get(r))||void 0===n||n.clear(),!t)){var o=We(i,ze.getValue()),a=o.from,s=o.to,u=ze.markText(a,s,{className:"ast_highlighted"});Ve.set(r,u)}}function Ze(e){var t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}));return Ue.set(t,e.textSpan),{text:e.name,icon:!1,id:t,children:_e(Re(e.children)||[])}}function Re(e){if(null!=e)return e.map(Ze)}Le.onclick=function(){var e=ze.getValue(),t=new Map,n=Be.parse(e);!function(e){Ue.clear(),Ve.forEach((function(e){return e.clear()})),Ve.clear(),Ke("#ast").jstree(!0).settings.core.data=[Ze(e)],Ke("#ast").jstree(!0).refresh()}(n);var r=new xe(n);Me.value="Output:\n";var i=r.evaluate(De,t);if(i.diagnostics.length>0){Me.value+="Failed to run:\n";var o=i.diagnostics.reports;Me.value+=o.map((function(e){return e.message})).join("\n"),o.forEach((function(t){var n=We(t.span,e),r=n.from,i=n.to,o=ze.markText(r,i,{className:"cm-red_wavy_line"});Ie.push(o)}))}else Me.value+="last eval> "+i.value+"\n"}}},t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={id:r,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.p="/tah-lang/",(()=>{var e={179:0},t=[[882,216]],r=()=>{};function i(){for(var r,i=0;i<t.length;i++){for(var o=t[i],a=!0,s=1;s<o.length;s++){var u=o[s];0!==e[u]&&(a=!1)}a&&(t.splice(i--,1),r=n(n.s=o[0]))}return 0===t.length&&(n.x(),n.x=()=>{}),r}n.x=()=>{n.x=()=>{},a=a.slice();for(var e=0;e<a.length;e++)o(a[e]);return(r=i)()};var o=i=>{for(var o,a,[u,p,l,c]=i,h=0,f=[];h<u.length;h++)a=u[h],n.o(e,a)&&e[a]&&f.push(e[a][0]),e[a]=0;for(o in p)n.o(p,o)&&(n.m[o]=p[o]);for(l&&l(n),s(i);f.length;)f.shift()();return c&&t.push.apply(t,c),r()},a=self.webpackChunkcompiler=self.webpackChunkcompiler||[],s=a.push.bind(a);a.push=o})(),n.x()})();